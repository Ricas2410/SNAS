<%- include('../../partials/header', {title: 'Manage Subjects'}) %>
<%- include('../../partials/sidebar', { user: user, role: user.role }) %>


<style>
    .container {
        margin-left: 250px; /* Same width as the sidebar */
        padding: 20px;
    }

    /* Mobile responsiveness */
    @media (max-width: 768px) {
        .container {
            margin-left: 0; /* Remove margin for small screens */
        }
    }
    
</style>


<div class="dashboard-container container">
  <h1>Manage Subjects</h1>

  <a href="/admin/dashboard" class="btn btn-primary mb-3"
    >Back</a
  >
  <a href="/admin/subject/add" class="btn btn-primary mb-3">Add New Subject</a>

  <table class="table">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% subjects.forEach(function(subject) { %>
      <tr>
        <td><%= subject.id %></td>
        <td><%= subject.name %></td>
        <td>
          <a
            href="/admin/subject/edit/<%= subject.id %>"
            class="btn btn-sm btn-warning"
            >Edit</a
          >
          <form
            action="/admin/subject/delete/<%= subject.id %>"
            method="POST"
            class="d-inline"
          >
            <button
              type="submit"
              class="btn btn-sm btn-danger"
              onclick="return confirm('Are you sure you want to delete this subject?')"
            >
              Delete
            </button>
          </form>
        </td>
      </tr>
      <% }); %>
    </tbody>
  </table>
</div>

<%- include('../../partials/footer') %>
