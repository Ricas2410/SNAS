<%- include('../../partials/header', { title: 'All Students' }) %>
<%- include('../../partials/sidebar', { user: user, role: user.role }) %>

<style>
  .container {
      margin-left: 250px; /* Same width as the sidebar */
      padding: 20px;
  }

  /* Mobile responsiveness */
  @media (max-width: 768px) {
      .container {
          margin-left: 0; /* Remove margin for small screens */
      }
  }
  
</style>

<div class="container">
    <h1>All Students</h1>
    <% if (students.length === 0) { %>
        <p>No students found.</p>
    <% } else { %>
        <table class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Class</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <% students.forEach(function(student) { %>
                    <tr>
                        <td><%= student.name %></td>
                        <td><%= student.Class ? student.Class.name : 'N/A' %></td>
                        <td>
                            <a href="/headteacher/student/<%= student.id %>" class="btn btn-primary">View Details</a>
                        </td>
                    </tr>
                <% }); %>
            </tbody>
        </table>
    <% } %>
</div>

<%- include('../../partials/footer') %>